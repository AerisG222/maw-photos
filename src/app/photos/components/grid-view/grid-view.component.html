<app-layout-toolbar>
    <app-photos-grid-view-toolbar layout-toolbar></app-photos-grid-view-toolbar>

    <div layout-main>
        <div *ngIf="currentPhoto$ | async as currentPhoto" class="full-image" (click)="clearCurrentPhoto()">
            <img
                [src]="currentPhoto.imageMd.url"
                [srcset]="getSourceset(currentPhoto)"
                (swipeleft)="onSwipeLeft()"
                (swiperight)="onSwipeRight()"
                sizes="100vw"
                loading="eager" />
        </div>

        <app-shared-content-margin [margin]="margin$ | async" [ngStyle]="{ 'display': (currentPhoto$ | async) === null ? 'block' : 'none' }">
            <div class="category-header">
                <app-shared-category-header
                    *ngIf="showBreadcrumbs$ | async"
                    [showCategoryAsLink]="true"
                    [category]="category$ | async">
                </app-shared-category-header>
            </div>

            <div class="photo-grid">
                <img
                    *ngFor="let photo of photos$ | async;"
                    [ngClass]="(thumbnailSize$ | async)?.klass"
                    [src]="photo.imageXsSq.url"
                    (click)="setCurrentPhoto(photo)"
                    loading="lazy" />
            </div>
        </app-shared-content-margin>
    </div>
</app-layout-toolbar>
