<div class="stats-layout-grid">
    <div>
        <app-stats-header (clickYear)="onRemoveYearFilter()" title="Combined Stats" [year]="selectedYear$ | async"></app-stats-header>
    </div>

    <div class="stat-card-grid">
        <app-stat-card *ngIf="!(selectedYear$ | async)" [detail]="totalDetails$ | async"></app-stat-card>
        <app-stat-card *ngIf="selectedYear$ | async" [detail]="yearDetails$ | async"></app-stat-card>
    </div>

    <form [formGroup]="form" class="stat-form-grid">
        <div>
            Aggregate By:
        </div>
        <div>
            <mat-radio-group formControlName="aggregateBy">
                <mat-radio-button value="count">Item Count</mat-radio-button>
                <mat-radio-button value="size">File Size</mat-radio-button>
            </mat-radio-group>
        </div>
    </form>

    <div>
        <app-stat-chart
            [chartData]="chartData$ | async"
            [format]="chartValueFormat"
            (cellSelected)="onSelectYear($event)">
        </app-stat-chart>
    </div>
</div>
