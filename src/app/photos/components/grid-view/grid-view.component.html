<app-layout-toolbar>
    <app-photos-grid-view-toolbar layout-toolbar></app-photos-grid-view-toolbar>

    <div layout-main>
        <router-outlet></router-outlet>

        <app-shared-content-margin [margin]="margin$ | async" [ngStyle]="{ 'display': (activePhoto$ | async) === null ? 'block' : 'none' }">
            <div class="category-header">
                <app-shared-category-header
                    *ngIf="showBreadcrumbs$ | async"
                    [showCategoryAsLink]="showCategoryAsLink$ | async"
                    [category]="category$ | async">
                </app-shared-category-header>
            </div>

            <div class="photo-grid">
                <a *ngFor="let photo of photos$ | async;"
                    [routerLink]="[photo.id]" (click)="trackScrollPosition()">
                    <img
                        [ngClass]="(thumbnailSize$ | async)?.klass"
                        [src]="photo.imageXsSq.url"
                        loading="lazy" />
                </a>
            </div>
        </app-shared-content-margin>
    </div>
</app-layout-toolbar>
